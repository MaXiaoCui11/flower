define(["jquery"],function(t){t.fn.verification=function(e,i){var o={},n={};for(var r in e)o[r]=e[r],n[r]=!1;console.log(o),n.btn=!0,n.tip=!0,n.codebox=!0;var p={};void 0!=o.user&&o.user.blur(function(){var t=/^[a-zA-Z]{6,20}$/g,e=this.value;t.test(e)?(o.tip.html(""),n.user=!0):(o.tip.html("长度为6~20位的英文字母"),n.user=!1,o.tip.parent().slideDown(),clearTimeout(p.timer),p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3))}),void 0!=o.pwd&&o.pwd.blur(function(){var e=/^.{3,}$/g,i=t(this).val();e.test(i)?(o.tip.html(""),n.pwd=!0):(o.tip.html("至少三位密码"),n.pwd=!1,o.tip.parent().slideDown(),clearTimeout(p.timer),p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3))}),void 0!=o.rpwd&&o.rpwd.blur(function(){t(this).val()!=o.pwd.val()?(o.tip.parent().slideDown(),o.tip.html("两次密码不一致"),clearTimeout(p.timer),p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3),n.rpwd=!1):""!=o.pwd.val()&&(o.tip.html(""),n.rpwd=!0)}),void 0!=o.codebox&&void 0!=o.code&&(o.codebox.click(function(){p.codeStr=p.randomCode(),o.codebox.prev().children().html(p.codeStr)}),o.code.blur(function(){t(this).val()!=p.codeStr?(o.tip.html("输入验证码有误"),n.code=!1,o.tip.parent().slideDown(),clearTimeout(p.timer),p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3)):(o.tip.html(""),n.code=!0)})),void 0!=o.phone&&o.phone.blur(function(){var e=/^1[34578]\d{9}$/,i=t(this).val();e.test(i)?(o.tip.html(""),n.phone=!0):(o.tip.parent().slideDown(),o.tip.html("请输入正确的手机号码"),n.phone=!1,clearTimeout(p.timer),p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3))}),void 0!=o.btn&&o.btn.click(function(){for(var t in n)if(0==n[t])return o.tip.html("请填写完整"),n.pwd=!1,o.tip.parent().slideDown(),clearTimeout(p.timer),void(p.timer=setTimeout(function(){o.tip.parent().slideUp()},1e3));i&&i()}),p.randomCode=function(){for(var t="0123456789abcdefghijklmnopqistuvwxyz",e="",i=0;i<4;i++)e+=t[Math.round(Math.random()*(t.length-1))];return e}}});