require.config({paths:{jquery:"../js/jquery-1.11.3"}}),require(["jquery","cookies"],function(i,a){var s=a.get("shoppingcar"),r=s?JSON.parse(s):[];if(0!=r.length){i(".cart-panel").css({display:"block"}),i(".spare").css({display:"none"});for(t=0;t<r.length;t++)i(".bd").append('<ul class="order-list"><li class="img-box"><a href="#"><img src="'+r[t].url+'" height="56" width="50"></a> '+r[t].title+'</li><li class="market-price"> <span class="price-sign">¥</span> <span class="price-num">'+r[t].old+'</span></li><li class="order-price"> <span class="price-sign">¥</span><span class="price-num">'+r[t].price+'</span></li><li class="num"><div class="input-num"><a href="javascript:;"  class="btn btn-default minus"  data-id="'+r[t].id+'"><i class="ico ico-minus"></i></a><input type="text" class="form-control input-sm" name="Q_5052" id="Q_5052" value="'+r[t].num+'" maxlength="2" readonly><a href="javascript:;" class="btn btn-default add"  data-id="'+r[t].id+'"><i class="ico ico-add"></i></a></div></li><li class="operate"><a href="#" class="del" data-id="'+r[t].id+'">删除</a><br><a href="javascript:;">移到我的收藏</a></li></ul>')}i(".bd").on("click","ul li .del",function(){for(var s=i(this).data("id"),r=JSON.parse(a.get("shoppingcar")),n=0;n<r.length;n++)if(r[n].id==s){r.splice(n,1);break}a.add("shoppingcar",JSON.stringify(r)),i(this).parent().parent().remove()}),i(".bd").on("click","ul li .minus",function(){var s=parseInt(i(this).siblings(".form-control").val());s<1?alert("亲,不能少了"):(s--,i(this).siblings(".form-control").val(s));var n=i(this).data("id");r=JSON.parse(a.get("shoppingcar"));for(var l=0;l<r.length;l++)if(r[l].id==n){r[l].num=s;break}a.add("shoppingcar",JSON.stringify(r))}),i(".bd").on("click","ul li .add",function(){var s=parseInt(i(this).siblings(".form-control").val());s++,i(this).siblings(".form-control").val(s);var n=i(this).data("id");r=JSON.parse(a.get("shoppingcar"));for(var l=0;l<r.length;l++)if(r[l].id==n){r[l].num=s;break}a.add("shoppingcar",JSON.stringify(r))});for(var n=0,l=0,t=0;t<r.length;t++)n+=r[t].num*r[t].price,l+=r[t].num;i(".price .price-num").text(n),i(".ico8 ").text(l),i("#gwcCount").text("("+l+")")});